<!DOCTYPE html>
<html lang="en">
  <head>
    


<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="本文授权转载于极验公众号全文 6239 字，预计阅读时间约 13 分钟，建议收藏后阅读">
<link rel="canonical" href="https://wukongsec.com/blog/black-industry-attack-and-defense-05">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Exo:300,500,800|Roboto&display=swap">
<link rel="stylesheet" href="https://wukongsec.com/assets/main.css" />
<link rel="icon" type="image/png" href="https://wukongsec.com/favicon.png">
<title>WuKong Security丨悟空信息安全 - 【黑产攻防道05】针对伪造环境的检测</title>

  </head>
  <body>
    <header id="menu">
  <div class="header-wrapper">
    <nav class="main-nav">
      <a href="https://wukongsec.com" class="logo-link">
        <img width="206" alt="PM2 logo" src="https://wukongsec.com/assets/img/logo/logo_wk_003.png" />
      </a>
      <div class="menu">
        <a href="#menu" class="button accent-border border-corners inner-shadows menu-button">
          <div class="menu-icon"></div>
        </a>
        <a href="#" class="menu-overlay"></a>
        <div class="menu-content">
          <div class="doc-links">
            <a href="https://wukongsec.com">首页 Index</a>
            <a href="https://bbs.wukongsec.com/" target="_blank">论坛 BBS</a>
            <a href="https://wukongsec.com/blog" class="">博客 Blog</a>
          </div>
          <a href="https://wukongsec.com/contact" title="Get started" class="button accent-border border-corners inner-shadows">
            联系我们 Contact
          </a>
        </div>
      </div>
    </nav>
  </div>
</header>

    <main class="post">
      <section class="section-hero">
        <div class="section-background">
          <div class="hexagon hexagon-1"></div>
<!--          <div class="hexagon hexagon-2"></div>-->
          <div class="hexagon hexagon-3"></div>
          <div class="hexagon hexagon-4"></div>
        </div>
        <div class="section-wrapper">
          <h1>【黑产攻防道05】针对伪造环境的检测</h1>
        </div>
      </section>
      <section>
        <div class="section-background">
          <div class="hexagon hexagon-5"></div>
        </div>
        <div class="section-wrapper">
          <div class="content">
            <div class="container">
              <h1 class="align-center">【黑产攻防道05】针对伪造环境的检测</h1>
              
                <p class="align-center">
                  
                    
                      作者：<a href="https://www.geetest.com/" target="_blank">极验</a>
                    丨
                  
                  
                    原始链接：<a href="https://mp.weixin.qq.com/s/u1tiOEeYw-XEJpPMH4Dlmw" target="_blank">https://mp.weixin.qq.com/s/u1tiOEeYw-XEJpPMH4Dlmw</a> 丨
                  
                  发布时间：2024-03-14 01:00:00 +0000
                </p>
              
            </div>
            <hr>
            <center>
<font size="5" color="#464646">本文授权转载于<a href="https://www.geetest.com/" target="_blank">极验</a>公众号</font><br />
<font size="3" color="#978888">全文 6239 字，预计阅读时间约 13 分钟，建议收藏后阅读</font>
</center>

<p><img src="/assets/img/blog/2024-03-14/001.png" style="height: 50% !important; width: auto !important;" /></p>

<hr />

<center><strong>
<font size="6" color="#2c4c99">/ 道场 /</font>
</strong></center>

<p><img src="/assets/img/blog/2024-03-14/002.png" alt="" /></p>

<h2 id="一环境检测的本质">一、环境检测的本质</h2>

<p>所有业务安全产品的功能主要是识别和处理异常，其中识别比处理更加前置也更加重要。验证服务的整流程其实就是从客户端发起带参数的请求，回答验证答案到服务器进行验证，黑产攻防道系列文章整体讲述了验证码服务整个流程的“攻”与“防”。</p>

<p>在前期文章中，我们围绕着发起请求（通讯流程）和回答答案（图片验证）这两个后置环节，分别讲述了相关攻防点，涉及识别异常请求和异常行为。</p>

<p><img src="/assets/img/blog/2024-03-14/003.png" alt="" /></p>

<p>验证码是一种主动的安全工具，所有黑产想要获取具有价值信息的目标，就必须回答验证码的答案。所谓环境检测，其实就是通过用户回答，通过识别手段和策略，设下一道道陷阱，同时监测用户所携带请求的设备/浏览器环境信息，利用社会工程学中的信息不对等，区分合法请求和模拟请求。</p>

<p>为了更好地理解，举个小例子，我们区分合法请求和模拟请求的方式类似于货币防伪。</p>

<p>为了确保货币的真实性，各国的中央银行和货币印制厂通常采用一系列先进的技术和措施来防范伪造，例如磁性防伪或者红外线和紫外线特征等等。这些防伪技术一般是不对外公开的核心机密。这其实就是一个个陷阱，利用货币防伪特征的信息不对等，打击市场上流通的假币。</p>

<p><img src="/assets/img/blog/2024-03-14/004.jpg" style="height: 50% !important; width: auto !important;" /></p>

<h2 id="二动机与限制">二、动机与限制</h2>

<p>异常请求的发出通常伴随着异常环境。在实施攻击的过程中黑产会使用到特制的浏览器或者脱离浏览器环境（代码进行脚本运行）的技术手段。据极验统计，89%的攻击案例特征伴随着异常环境。</p>

<p><img src="/assets/img/blog/2024-03-14/005.png" alt="" /></p>

<p>既然异常环境发生得这么频繁，肯定对黑产特别有价值，那么价值是什么？</p>

<p>先别急，在聊环境伪造之前，我们首先了解点浏览器小知识：市面上有很多浏览器，不同的浏览器会对网站内容在渲染上有微妙的差异性。所以当我们访问一个网站时，浏览器会向服务器发送HTTP请求，并在请求标头中包含用户代理信息，以告诉服务器我们正在使用的浏览器和操作系统，在跨浏览器的兼容上提供更好的用户体验。</p>

<p><img src="/assets/img/blog/2024-03-14/006.png" alt="" /></p>

<p>同时浏览器因为安全和隐私保护的设计，限制了一些敏感的操作或一些敏感权限（例如正常浏览器无法发起自动化拖动点击操作请求）</p>

<p>以下为特殊浏览器可以执行自动化拖动点击的实例：</p>

<center>
<video src="/assets/img/blog/2024-03-14/001.mp4" width="70%" controls=""></video>
</center>

<h3 id="1环境伪造的动机">1、环境伪造的动机</h3>

<p>在这些基础上，黑产为了绕过浏览器的限制，使用自动化工具提高自己的攻击效率，必须使用没有 GUI 的浏览器或者脱离浏览器环境（代码进行脚本运行）去完成异常请求。例如没有GUI的浏览器可以通过代码指令操控所有功能，类似于自动化测试，自动识别拖拽验证码，且需要的 CPU/RAM更少。</p>

<p>我们总结出环境伪造对黑产的两大价值：</p>

<h4 id="1突破浏览器功能限制">（1）突破浏览器功能限制</h4>

<p>黑产为了提高自己的攻击效率，一般会着力的点主要为“机器效率”和“提高规模”两个方面：</p>

<p>①脱离浏览器环境直接用接口进行协议破解，省去前台UI交互带来的性能瓶颈。这种方式需要纯抠代码，且对技术能力要求比较高。也就是我们前文所提的协议破解。</p>

<p>②使用自动化工具，类似于自动化测试，例如使用 Selenium 操作 chromium 内核实现自动化的拖动、点击等操作。但是运行效率慢，无法在短时间内发送大量的请求。一旦技术水平做不到或者协议破解被防御住，自动化工具这种方案就为黑产无论技术上还是效率上提供了退而求其次的选择。</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">类型</th>
      <th style="text-align: center">简述</th>
      <th style="text-align: center">方式区别</th>
      <th style="text-align: center">技术门槛</th>
      <th style="text-align: center">攻击效率</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">协议破解</td>
      <td style="text-align: center">脱离浏览器通过调试技术对前端JS做逆向还原，同时理清参数生成的逻辑，<br />补齐环境信息后直接在服务端发起请求，省去前端UI渲染时间。</td>
      <td style="text-align: center">扣算法</td>
      <td style="text-align: center">高</td>
      <td style="text-align: center">高</td>
    </tr>
    <tr>
      <td style="text-align: center">协议破解</td>
      <td style="text-align: center">同上</td>
      <td style="text-align: center">补环境</td>
      <td style="text-align: center">中</td>
      <td style="text-align: center">中</td>
    </tr>
    <tr>
      <td style="text-align: center">自动化工具</td>
      <td style="text-align: center">通过伪造浏览器环境，驱动模拟器进行自动化操作，无需关心前端的加密。</td>
      <td style="text-align: center">驱动模拟器</td>
      <td style="text-align: center">低</td>
      <td style="text-align: center">低</td>
    </tr>
  </tbody>
</table>

<p>在前期内容中，我们已经对协议破解做了相关介绍，如果感兴趣可以回顾：<a href="https://mp.weixin.qq.com/s/MY6eMiBFgKoEuWgqFVZRFQ">【黑产攻防道03】利用JS参数更新检测黑产的协议破解</a>。在本文中，我们将不再赘述协议破解的相关攻击方式，重点说明伪造环境的原理和检测。</p>

<h4 id="2绕过检测与防御机制">（2）绕过检测与防御机制</h4>

<p>因为黑产会使用异常环境来突破原本的浏览器限制，这个规律在业务安全领域得到了应用，安全策略也会依赖于用户代理信息，异常的请求来源和信息通常是重点的嫌疑目标。</p>

<p>黑产为了隐藏自己特征，不被验证检测出来为异常环境，会根据正常浏览器的一些特征去修改自己的参数或者完全伪造出一套参数，欺骗服务器关于请求来源的认知，进一步防止被追踪。</p>

<p>说到底，环境伪造的本质就是篡改，通过修改用户环境参数，从而欺骗服务器认为请求是来自不同类型的浏览器或设备，模拟成真人请求。</p>

<h3 id="2环境检测的限制">2、环境检测的限制</h3>

<p>前面我们了解到，既然黑产是通过驱动自动化工具伪造真人行为模拟真人请求，那么防守方如何从中进行防御？</p>

<p>关键就在于：区分出这些伪造的危险请求。通过一系列强弱因子找出正常设备和异常设备之间差异性，这也是识别比处理更前置和更重要的原因，处理的信心来源于识别的精准。</p>

<p>伪装和识别好像一场敌暗我明的谍战，而在真实的安全攻防中，在以收集信息、欺诈或入侵系统为目的的战场上，“伪装”和“识别”的攻击与防守已不仅仅是技术的升级，更有社会工程学的博弈，本期我们就来讲讲“环境伪造”和“环境检测”的攻与防。</p>

<p><img src="/assets/img/blog/2024-03-14/007.png" style="height: 10% !important; width: auto !important;" /></p>

<center>
<font size="6" color="#2c4c99">/ 企业如何定位黑产的伪造环境 /</font>
</center>

<h3 id="问题发生">问题发生</h3>

<p>A游戏公司拥有独特的在线游戏平台，积累了大量用户数据和游戏内容，平时也会做社区活动激励来促活用户粘性，例如经常把游戏周边奖励通过抽奖的方式送给用户。</p>

<p>在某次抽奖活动14:00开始后，该游戏公司员工发现点击参与人数暴增，日常活跃只有两千多的社区，突然有数万人登录并报名抽奖，明显和社区日常流量量级不符，同时该社区玩家开始在论坛内发帖吐槽抽奖活动，质疑其公平性。给品牌带来一系列负面反馈。</p>

<p>而极验客户成功服务团队在日常安全巡视中，也发现了验证数据的相关异常。14:30开始，网站验证请求量达到了14,983，除此之外，验证交互量和验证通过量都急剧上升。</p>

<p><img src="/assets/img/blog/2024-03-14/008.png" alt="" /></p>

<h3 id="问题定位">问题定位</h3>

<p>为此极验主动联系上了该游戏公司安全负责人，提醒相关情况并了解其业务动态，后得知该企业也担心参与的用户并非全是真实人类。为了客户的业务安全利益，极验技术专家开始介入并分析相关情况：</p>

<p>首先，极验技术专家对线上数据进行了采集分析，通过协议破解检测，更新的JS参数并没有命中，通过极验CT规则量并不大，可以排除协议破解的可能。其次IP类型也没有聚集表现，所以也无法通过IP频率去限制。参考客户网站所受攻击流量特征。至此问题看似陷入了困境，到底是因为什么原因呢？</p>

<p><img src="/assets/img/blog/2024-03-14/009.png" style="height: 10% !important; width: auto !important;" /></p>

<center>
<font size="6" color="#2c4c99">/ 极验如何应对黑产的环境伪造 /</font>
</center>

<p>让我们视角切换到防守方，面对这种情况，极验怀疑黑产使用了自动化破解，并且为了伪造环境使用了高级的隐藏插件。为了识破黑产的伪装，极验在日常安全防护中做了一系列的“监控探头”，加强识别能力，而这一个个监控探头就是为黑产布下的一个个陷阱。</p>

<h3 id="防御思路">防御思路</h3>

<h4 id="1设置陷阱个点多重识别">1、设置陷阱个点：多重识别</h4>

<p>极验专家主要采取的手段之一是使用多种手段验证用户身份，不仅仅依赖于用户代理信息。例如，结合IP地址、Cookie、和用户自动化特征等其他浏览器指纹信息。</p>

<p>例如现在流行的puppteer、playwright以及比较古老的PhantomJS 和Selenium等自动化工具不加处理必然是无法通过现在大部分网站的反爬策略。所以极验技术专家在过去十年的客户服务过程中，花了大量时间来进行一些用来避免检测技术的持续研究，比如使用自动化工具会留下自动化工具的特征，而尝试去掉这种特征，也必然会导致覆盖某些全局属性而产生的“副作用”。</p>

<p>当极验积累了大量正常浏览器和自动化工具之间的不同特征之后，我们需要做的就是采集客户端环境数据，通过服务端的规则集合判断风险程度，将自动化工具流量精准的识别出来。</p>

<h4 id="2增加陷阱深度定期更新浏览器检测机制">2、增加陷阱深度：定期更新浏览器检测机制</h4>

<p>同时，由于浏览器机制的不断更新，检测手段和黑产攻击是一个动态博弈的过程，而不是一蹴而就的事情，与正规的安全研究团队和安全公司相比，黑灰产的资源相对有限，且面对的打击压力和监控又会很大，大概率无法投入足够的财力、时间和人力来迅速适应新技术和进行持续的创新。我们会研究市面上所有的开源工具，利用组织优势和长期战略进行持续安全运营投入。</p>

<p>极验会定期跟踪行业内最新情况，适应不断升级的自动化工具和环境篡改方式，提高检测的准确性。目前规则策略中，已积累出十多款 Web 模拟器及其变种，超过 1000 个 Web 模拟器样本。通过持续改进检测算法和引入新的技术，增强对各种环境伪造技术的抵御能力。</p>

<p><img src="/assets/img/blog/2024-03-14/010.jpg" alt="" /></p>

<h3 id="产品方案">产品方案</h3>

<p>容器安全探针——多类型的陷阱</p>

<p>我们基于对客户端环境和黑产攻击方式的了解，从多个维度进行异常检测分析，得到最终的客户端风险画像，辅助我们对请求进行处理。以下仅仅列举部分策略：</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">类型</th>
      <th style="text-align: center">说明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">自动化工具检测</td>
      <td style="text-align: center">检测 PhantomJS、Selenium、Puppeteer、Playwright 等多种自动化工具，以及自动化工具隐形插件</td>
    </tr>
    <tr>
      <td style="text-align: center">隐身模式检测</td>
      <td style="text-align: center">浏览器是否处于匿名模式下</td>
    </tr>
    <tr>
      <td style="text-align: center">代码调试检测</td>
      <td style="text-align: center">代码是否处于调试状态</td>
    </tr>
    <tr>
      <td style="text-align: center">UA篡改检测</td>
      <td style="text-align: center">用户代理是否有被篡改</td>
    </tr>
    <tr>
      <td style="text-align: center">风险插件检测</td>
      <td style="text-align: center">是否安装存在风险的插件</td>
    </tr>
    <tr>
      <td style="text-align: center">Cookie禁用检测</td>
      <td style="text-align: center">Cookie是否被禁用</td>
    </tr>
    <tr>
      <td style="text-align: center">虚假浏览器检测</td>
      <td style="text-align: center">是否处于伪造的浏览器环境</td>
    </tr>
    <tr>
      <td style="text-align: center">代码篡改检测</td>
      <td style="text-align: center">系统方法是否被 hook</td>
    </tr>
    <tr>
      <td style="text-align: center">….</td>
      <td style="text-align: center"> </td>
    </tr>
  </tbody>
</table>

<p>当极验积累了以上的检测策略的时候，黑产是并不知情的，那么他们的行为是不是能躲过这些“监控摄像头”？是不是能够达成目标？让我们接着往下看。</p>

<p><img src="/assets/img/blog/2024-03-14/011.png" style="height: 10% !important; width: auto !important;" /></p>

<center>
<font size="6" color="#2c4c99">/ 从黑产视角看伪造环境 /</font>
</center>

<h3 id="伪造的原理">伪造的原理</h3>

<p>伪造对于黑产的价值是突破和绕过，而突破和绕过必然要去伪装，就好像变色龙捕食时也会融入环境颜色。前面我们讲到，环境伪造最基本的原理其实是通过驱动自动化工具伪造真人行为模拟真人请求。黑产不是通过 GUI 控制浏览器的操作，而是通过代码指令控制无头浏览器。在底层，无头浏览器的行为就像其他浏览器一样。这对于开发人员来说非常方便，他们可以操控真实浏览器的所有功能，模拟用户行为，如点击、拖动等，但需要的 CPU/RAM 却少得多。</p>

<p>Chrome 团队在 2017 年发布了自动化工具 Headless Chrome 和 NodeJS API Puppeteer， 相比较于古老的 PhantomJS 和 Selenium，Puppeteer 使用起来更加稳定，而且由于官方团队维护，Puppeteer 会拥有更好的稳定性和前景。它通过 CDP 协议控制 Headless Chrome，黑产可以通过非常简单的配置就能完成自动化攻击。</p>

<p>针对无头浏览器的检测方法有很多，当攻击者使用无头浏览器进行网页抓取时，浏览器的所有属性（例如 webdriver、userAgent 等）一定程度上跟正常浏览器是有区别的，通过检测这些差异可以判断出当前环境是否是处于无头浏览器环境，但是黑产往往不会如此简单的使用自动化工具，他们会用一些特殊手段逃过检测。比如一般网页会通过检测 ua中是否包含 HeadlessChrome，或者是检测 window.navigator.webdriver 是否存在来判断是否是模拟器。</p>

<p>而攻击者往往可以很轻松的修改用户代理，并且在页面加载前将其修改为正常值，这样进入页面便无法检测到模拟器特征。</p>

<h3 id="攻击步骤">攻击步骤</h3>

<p>综合以上，黑产通过以下步骤实施攻击：</p>

<p>Step 1：使用自动化脚本，隐藏自动化脚本特征</p>

<p>运行 puppteer 自动化工具，通过 evaluateOnNewDocument 在页面加载前注入篡改逻辑。</p>

<p><img src="/assets/img/blog/2024-03-14/012.png" alt="" /></p>

<p>Step 2：测试自动化环境效果</p>

<p>可以看到页面的自动化特征已经被抹除掉（简单的篡改就能绕过绝大多数网站的反爬逻辑）</p>

<p><img src="/assets/img/blog/2024-03-14/013.png" alt="" /></p>

<p>Step3：运行自动化工具完成登录</p>

<p>用自动化工具模仿正常用户操作，进入页面，完成输入账号密码点击登录，然后进入到黑产想牟利的业务流程完成操作。</p>

<p><img src="/assets/img/blog/2024-03-14/014.png" alt="" /></p>

<p>根据上面的演示，我们可以看到，自动化工具最大的优点是使用起来非常方便，黑产不用硬着头皮在混淆后极难理解的代码里找线索，也不用担心客户端协议参数的变化，只需要完成一次配置，便可以驱动无头浏览器根据业务流程开始完成登录、抢票等一系列自动化攻击，调整起来也非常灵活。</p>

<p>但是仅仅几小时后，黑产就发现自己的账号被大规模的封禁。所有恶意请求伪装被识别出来，并被追溯到了源头进行处理。</p>

<p><img src="/assets/img/blog/2024-03-14/009.png" style="height: 10% !important; width: auto !important;" /></p>

<h3 id="问题解决">问题解决</h3>

<h4 id="1识别伪造">1、识别伪造</h4>

<p>让我们视角回到极验，看看这么短的时间内，极验是怎么通过日常布下的陷阱，识破这“高明”的伪装，</p>

<p>通过之前的排查，极验就已经怀疑该次黑产攻击事件是使用了自动化破解，且为了伪造环境使用了高级的隐藏插件，再次按照这个路径进行排查，通过极验自己的检测能力，发现客户当前的流量几乎有一半检测到stealth 的特征。</p>

<p>黑产使用 puppeteer-extra-plugin-stealth 对网站发起自动化攻击（其插件主要能力是通过消除 Headless Chrome 和标准 Chrome 浏览器之间细微的差异来隐藏浏览器的无头状态），通过完全模拟真实 API 以来确保他们覆盖此属性的方式看起来符合规范。他们不只是用一个简单的数组对象覆盖 “navigator.plugins” 属性。而是让它具有更真实的类型，以及所有相同的属性。</p>

<p><img src="/assets/img/blog/2024-03-14/015.png" alt="" /></p>

<center>
<video src="/assets/img/blog/2024-03-14/002.mp4" width="70%" controls=""></video>
</center>

<p>这种破解方式绕过了脱离客户端检测、协议破解识别和ip频率限制。且市面上的机器人检测网站均检测不出来，如果没有极验对黑产工具的持续研究，往往就会让这部分恶意流量绕过检测，造成客户成千上万的线上资产损失。</p>

<h4 id="2客户恢复正常">2、客户恢复正常</h4>

<p>经过一系列诊断和分析，通过历史积累了大量正常浏览器和自动化工具之间的不同特征之后，极验技术专家采集了客户端环境数据，通过服务端的规则集合判断风险程度，将自动化工具流量精准的识别出来。</p>

<p>17:00，规则上线，黑产的环境伪造手段被迅速地识别出来，该社区取消了4,356个用户的抽奖资格。不仅如此，极验还为客户考虑，增加开关配置加入封禁，识别配合处理动作，将安全风险置前处理，配合协议破解识别将黑产的可操作空间降到最低，经过以上操作，客户的验证数据开始趋于正常，帮客户挽回了即将有可能的损失。</p>

<p><img src="/assets/img/blog/2024-03-14/017.png" alt="" /></p>

<p>从 15:00 到 17：30，这看似简单的两个半小时，背后是极验在看不见的地方十几年的安全环境分析和策略更新速率。</p>

<h3 id="技术突破">技术突破</h3>

<p>在验证码中针对Web端口的检测中，我们为了客户的体验，更多是检测明确的业务风险，事实上我们做到的远远不止这些，极验在设备这个层面，做到了更多维度的检测，并且积累了覆盖全端口检测的能力，可以供用户结合业务流程进行分析。综合以上，我们做到了：</p>

<h4 id="1基于弱设备因子的校验">1、基于弱设备因子的校验</h4>

<p>通过极验“设备弱特征因子”为每一个设备生成的唯一设备编号，稳定不易篡改。并且收集300多项设备弱特征因子数据，经过设备关系图谱、设备三维复核模型识别虚拟设备、自动化设备以及定制设备，实时输出设备风险标签和风险状态。</p>

<h4 id="2基于身份的账号画像技术">2、基于身份的账号画像技术</h4>

<p>利用流量账号的历史关系数据，提升识别流量风险的准确性，基于流量身份体系建立账号画像，支持手机号、手机号 MD5、微信 openid 和 QQopenid 等账号类型查询历史风险记录，通过大数据关联历史复核结果。</p>

<h4 id="3基于关系图谱的设备指纹算法">3、基于关系图谱的设备指纹算法</h4>

<p>建立设备在网络中的交互关系和连接关系。设备指纹是对设备的唯一性描述，包括设备的硬件特征、网络行为和其他可用于识别的属性， 使用机器学习或其他技术，对这些特征进行训练，以建立设备指纹的模型。利用训练好的模型，对新的设备进行识别。通过对设备的特征进行匹配，可以确定设备是否已经在网络中被识别过，或者是否属于已知的设备类型。通过了解设备之间的关系，对异常流量进行溯源。</p>

<p><img src="/assets/img/blog/2024-03-14/018.png" alt="" /></p>

<h2 id="结语">结语</h2>

<p>近几年，伪造环境是黑产使用越来越频繁的手段。海外的情况甚至比国内还要严重。2023年全年，在判断为环境伪造的相关黑产攻击案例中，海外企业占比达80%。</p>

<p><img src="/assets/img/blog/2024-03-14/019.png" alt="" /></p>

<p>黑产攻防道整个系列从图片答案、协议破解、PoW暴力破解、环境伪造这四个方面讲述了和黑产不见血的厮杀，写这个系列的初心是因为我们看到了黑产日益猖獗的现状后内心感到急迫。</p>

<p>截止当前，极验服务后台每天有29亿次的请求数据，2500万个IP发的极验服务器，600万个IP存在异常和风险行为。在整个市场上，黑产从业人员超200万，团伙超3万个，每年团伙利润超300万，每年因为黑产涉及损失超千亿元。谁也无法保证，下一个受害者是不是你。</p>

<p>我们希望把我们的技术讲出来，我们的技术自信来源于长期的服务、客户的认同和一场场业务风险防控的践行，我们不缺与黑产打明牌的勇气。</p>

<hr />

<p>相关阅读：</p>

<ul>
  <li><a href="https://mp.weixin.qq.com/s/Z_P8lyxCqfOasfC0WbhqJQ">【黑产攻防道01】如何应对黑产进行验证图片资源遍历</a></li>
  <li><a href="https://mp.weixin.qq.com/s/zxLk0g9Ly0ZYDi9jkANUsg">【黑产攻防道02】如何对抗黑产的图像识别模型</a></li>
  <li><a href="https://mp.weixin.qq.com/s/MY6eMiBFgKoEuWgqFVZRFQ">【黑产攻防道03】利用JS参数更新检测黑产的协议破解</a></li>
  <li><a href="https://mp.weixin.qq.com/s/_p5siDnCcdkk-OqKlK5XVA">【黑产攻防道04】利用pow工作量证明降低黑产的破解效率</a></li>
  <li><a href="https://mp.weixin.qq.com/s/u1tiOEeYw-XEJpPMH4Dlmw">【黑产攻防道05】针对伪造环境的检测</a></li>
</ul>

<hr />

          </div>
        </div>
      </section>
      <section class="section-register">
        <div class="section-wrapper">
          <h1>攻防窥见深渊，万物藏于一粟<br/>探索技术边界，挖掘数据价值</h1>
          <p>WuKong Security丨悟空信息安全</p>
          <div class="code-and-button">
            <a
              href="/docs/usage/quick-start/"
              title="Register Now"
              class="button big accent-border border-corners inner-shadows"
            >
              联系我们 Contact
            </a>
          </div>
        </div>
      </section>
    </main>
    <footer>
  <div class="section-background">
    <div class="section-wrapper">
      <div class="hexagon hexagon-10"></div>
      <div class="hexagon hexagon-11"></div>
    </div>
  </div>
  <div class="section-wrapper">
    <nav class="main-nav">
      <a href="https://wukongsec.com" title="Go to home page" class="logo-link">
        <img alt="PM2 logo" src="https://wukongsec.com/assets/img/logo/logo_wk_004.png" />
      </a>
      <div class="doc-links">
        <a href="http://bbs.wukongsec.com/" target="_blank">论坛 BBS</a>
        <a href="https://wukongsec.com/blog/">博客 Blog</a>
        <a href="https://wukongsec.com/docs/about/">关于 About</a>
      </div>
      <div class="button-border">
        <a href="https://wukongsec.com/contact/" class="button accent-border border-corners big inner-shadows">
          加入我们 Join us
        </a>
      </div>
    </nav>
    <div class="below-nav">
      <div class="copyright">
        Copyright © 2023-<script>document.write(new Date().getFullYear().toString());</script> <a href="https://wukongsec.com/" title="WuKong Security • 悟空数据安全">WuKong Security</a> All Rights Reserved.
      </div>
      <div>
        <a href="https://beian.miit.gov.cn/" target="_blank"><img src="https://wukongsec.com/assets/img/general/icp_48x48.png" alt="ICP 备案号" style="width:auto; height:17px; margin-bottom:-4px"> 鄂ICP备 19003281号-10</a>丨
        <a href="https://beian.mps.gov.cn/" target="_blank"><img src="https://wukongsec.com/assets/img/general/mps_48x48.png" alt="MPS 公网安备" style="width:auto; height:17px; margin-bottom:-3px"> 鄂公网安备 42280202422959</a>
      </div>
    </div>
  </div>
</footer>

<script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"3IvKxKuUS0UrDMdL",ck:"3IvKxKuUS0UrDMdL"})</script>

<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?3163eb94091b9129cb5fbf99051644ff";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>


    <script src="https://wukongsec.com/assets/js/testimonials.js"></script>
    <script src="https://wukongsec.com/assets/js/menu.js"></script>
  </body>
</html>
