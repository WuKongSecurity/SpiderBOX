(function(e){e(document).ready(function(){theme.minNav!="1"&&l(!0),v(),u(),isPC()?e('[data-toggle="tooltip"]').tooltip({trigger:"hover"}):e('.qr-img[data-toggle="tooltip"]').tooltip({trigger:"hover"}),b()}),e(".panel-body.single img").each(function(){this.parentNode.href||(theme.lazyload?e(this).wrap("<a href='"+e(this).data("src")+"' data-fancybox='fancybox' data-caption='"+this.alt+"'></a>"):e(this).wrap("<a href='"+this.src+"' data-fancybox='fancybox' data-caption='"+this.alt+"'></a>"))});function j(){u(),l(!1)}e(".count-a").each(function(){e(this).prop("Counter",0).animate({Counter:e(this).text()},{duration:1e3,easing:"swing",step:function(t){e(this).text(Math.ceil(t))}})}),e(document).on("click","a[target!='_blank']",function(){if(theme.loading=="1"&&e(this).attr("href")&&e(this).attr("href").indexOf("#")!=0&&e(this).attr("href").indexOf("java")!=0&&!e(this).data("fancybox")&&!e(this).data("commentid")&&!e(this).hasClass("nofx")){var t=e('<div id="load-loading"></div>');e("body").prepend(t),t.animate({opacity:"1"},200,"swing").delay(2e3).hide(300,function(){t.remove()})}}),e(window).scroll(function(){e(this).scrollTop()>=50?(e("#go-to-up").fadeIn(200),e(".big-header-banner").addClass("header-bg")):(e("#go-to-up").fadeOut(200),e(".big-header-banner").removeClass("header-bg"))}),e(".go-up").click(function(){return e("body,html").animate({scrollTop:0},500),!1}),e(".slider_menu").children("ul").children("li").not(".anchor").hover(function(){e(this).addClass("hover"),toTarget(e(this).parent(),!0,!0)},function(){e(this).removeClass("hover")}),e(".slider_menu").mouseleave(function(){var n=e(this).children("ul");window.setTimeout(function(){toTarget(n,!0,!0)},50)});function b(){e(".slider_menu[sliderTab]").each(function(){if(!e(this).hasClass("into")){var t,n=e(this).children("ul");n.prepend('<li class="anchor" style="position:absolute;width:0;height:28px"></li>'),t=n.find(".active").parent(),0<t.length&&n.children(".anchor").css({left:t.position().left+t.scrollLeft()+"px",width:t.outerWidth()+"px",height:t.height()+"px",opacity:"1"}),e(this).addClass("into")}})}function u(){if(e(".main-footer").attr("style",""),e(".main-footer").hasClass("text-xs")){var t=jQuery(window).height(),s=e(".main-footer").outerHeight(!0),n=e(".main-footer").position().top+s;t>n-parseInt(e(".main-footer").css("marginTop"),10)&&e(".main-footer").css({marginTop:t-n})}}e("#sidebar-switch").on("click",function(){e("#sidebar").removeClass("mini-sidebar")});var s,i,t=!1,n=!1;function l(s){theme.minNav=="1"&&!t&&767.98<e(window).width()||!t&&767.98<e(window).width()&&e(window).width()<1024?(e("#mini-button").prop("checked",!1),r(s),t=!0,n&&(e("#sidebar").addClass("mini-sidebar"),e(".sidebar-nav .change-href").each(function(){e(this).attr("href",e(this).data("change"))}),n=!1)):theme.minNav!="1"&&(t&&e(window).width()>=1024||n&&!t&&e(window).width()>=1024)?(e("#mini-button").prop("checked",!0),r(s),t=!1,n&&(n=!1)):e(window).width()<767.98&&e("#sidebar").hasClass("mini-sidebar")&&(e("#sidebar").removeClass("mini-sidebar"),n=!0,t=!1)}e(".sidebar-menu-inner a").on("click",function(){e(".sidebar-nav").hasClass("mini-sidebar")||(e(this).parent("li").siblings("li.sidebar-item").children("ul").slideUp(200),e(this).next().css("display")=="none"?(e(this).next("ul").slideDown(200),e(this).parent("li").addClass("sidebar-show").siblings("li").removeClass("sidebar-show")):(e(this).next("ul").slideUp(200),e(this).parent("li").removeClass("sidebar-show")))}),e("#mini-button").on("click",function(){r(!0)});function r(t){e('.header-mini-btn input[type="checkbox"]').prop("checked")?(e(".sidebar-item.sidebar-show").removeClass("sidebar-show"),e(".sidebar-menu ul").removeAttr("style"),e(".sidebar-nav").addClass("mini-sidebar"),e(".sidebar-nav .change-href").each(function(){e(this).attr("href",e(this).data("change"))}),t?(e(".sidebar-nav").removeClass("animate-nav"),e(".sidebar-nav").width(60),localStorage.setItem("mini_sidebar","true"),console.log("mini_sidebar true")):(e(".sidebar-nav").addClass("animate-nav"),e(".sidebar-nav").stop().animate({width:60},200),localStorage.setItem("animate_nav","false"),console.log("mini_sidebar false"))):(e(".sidebar-nav").removeClass("mini-sidebar"),e(".sidebar-menu ul ul").css("display","none"),t?(e(".sidebar-nav").removeClass("animate-nav"),e(".sidebar-nav").width(170),localStorage.setItem("mini_sidebar","false"),console.log("mini_sidebar false")):(e(".sidebar-nav").addClass("animate-nav"),e(".sidebar-nav").stop().animate({width:170},200),localStorage.setItem("animate_nav","true"),console.log("mini_sidebar true")))}e(document).on("mouseover",".mini-sidebar .sidebar-menu ul:first>li,.mini-sidebar .flex-bottom ul:first>li",function(){var t,n,s=2;e(this).parents(".flex-bottom").length!=0&&(s=-3),e(".sidebar-popup.second").length==0&&e("body").append("<div class='second sidebar-popup sidebar-menu-inner text-sm'><div></div></div>"),e(".sidebar-popup.second>div").html(e(this).html()),e(".sidebar-popup.second").show(),t=e(this).offset().top-e(window).scrollTop()+s,n=e(window).height()-e(".sidebar-popup.second>div").height(),n-t<=0&&(t=n>=0?n-8:0),e(".sidebar-popup.second").stop().animate({top:t},50)}),e(document).on("mouseleave",".mini-sidebar .sidebar-menu ul:first, .mini-sidebar .slimScrollBar,.second.sidebar-popup",function(){e(".sidebar-popup.second").hide()}),e(document).on("mouseover",".mini-sidebar .slimScrollBar,.second.sidebar-popup",function(){e(".sidebar-popup.second").show()}),e(document).on("click",".ajax-cm-home .ajax-cm",function(t){t.preventDefault();var n=e(this),o=n.data("id"),s=e(n.attr("href")).children(".site-list");s.children(".url-card").length==0&&(n.addClass("disabled"),e.ajax({url:theme.ajaxurl,type:"POST",dataType:"html",data:{action:n.data("action"),term_id:o},cache:!0}).done(function(t){if(t.trim()){var o=e(t);s.html(o),isPC()&&o.find('[data-toggle="tooltip"]').tooltip({trigger:"hover"})}n.removeClass("disabled")}).fail(function(){n.removeClass("disabled")}))}),e(document).on("click",".ajax-list a",function(t){t.preventDefault(),d(e(this),e(this).parents(".ajax-list"),"."+e(this).data("target"))}),e(document).on("click",".ajax-list-home a",function(t){t.preventDefault(),d(e(this),e(this).parents(".ajax-list-home"),".ajax-"+e(this).parents(".ajax-list-home").data("id"))});function d(t,n,s){t.hasClass("active")||(n.find("a").removeClass("active"),t.addClass("active"),e(s).children(".ajax-loading").length==0&&e(s).append('<div class="ajax-loading text-center rounded" style="position:absolute;display:flex;left:0;width:100%;top:-1rem;bottom:.5rem;background:rgba(125,125,125,.5)"><div class="col align-self-center"><i class="iconfont icon-loading icon-spin icon-2x"></i></div></div>'),e.ajax({url:theme.ajaxurl,type:"POST",dataType:"html",data:t.data(),cache:!0}).done(function(n){if(n.trim()){e(s).html(""),e(s).append(n);var o=e(s).children("#ajax-cat-url").data("url");o?t.parents(".d-flex.flex-fill.flex-tab").children(".btn-move.tab-move").show().attr("href",o):t.parents(".d-flex.flex-fill.flex-tab").children(".btn-move.tab-move").hide(),isPC()&&e('.ajax-url [data-toggle="tooltip"]').tooltip({trigger:"hover"})}else e(".ajax-loading").remove()}).fail(function(){e(".ajax-loading").remove()}))}e(".add-link-form").on("submit",function(){var t=e(".site-add-name").val(),n=e(".site-add-url").val();f({id:+new Date,name:t,url:n}),this.reset(),this.querySelector("input").focus(),e(this).find(".btn-close-fm").click()}),s=!1,e(".customize-menu .btn-edit").click(function(){s?(e(".url-card .remove-site,#add-site").hide(),e(".url-card .remove-site,.add-custom-site").hide(),e(".url-card .remove-cm-site").hide(),e(".customize-sites").removeClass("edit"),h(),e(".customize-menu .btn-edit").html("编辑")):(e(".url-card .remove-site,#add-site").show(),e(".url-card .remove-site,.add-custom-site").show(),e(".url-card .remove-cm-site").show(),e(".customize-sites").addClass("edit"),h(),e(".customize-menu .btn-edit").html("确定")),s=!s});function f(e){for(var t=o("myLinks"),n=0;n<t.length;n++)if(t[n].url==e.url){showAlert(JSON.parse('{"status":4,"msg":"该网址已经存在了 --."}'));return}t.unshift(e),c(e,!1,!1),a(t,"myLinks")}function c(t,n,o){n?e(".customize_nothing_click").remove():e(".customize_nothing").remove();var i,a,r=t.url.match(/^(?:https?:\/\/)?((?:[-A-Za-z0-9]+\.)+[A-Za-z]{2,6})/);!r||r.length<2?a=t.url:(a=r[0],theme.urlformat=="1"&&(a=r[1])),i=e('<div class="url-card  col-6 '+theme.classColumns+' col-xxl-10a"><div class="url-body mini"><a href="'+t.url+'" target="_blank" class="card new-site mb-3 site-'+t.id+'" data-id="'+t.id+'" data-url="'+t.url+'" data-toggle="tooltip" data-placement="bottom" title="'+t.name+'" rel="external nofollow"><div class="card-body" style="padding:0.4rem 0.5rem;"><div class="url-content d-flex align-items-center"><div class="url-img rounded-circle mr-2 d-flex align-items-center justify-content-center"><img src="'+theme.icourl+a+theme.icopng+'"></div><div class="url-info flex-fill"><div class="text-sm overflowClip_1"><strong>'+t.name+'</strong></div></div></div></div></a></div><a href="javascript:;" class="text-center remove-site" data-id="'+t.id+'" style="display: none"><i class="iconfont icon-close-circle"></i></a></div>'),n?(o?e(".my-click-list").prepend(i):e(".my-click-list").append(i),i.children(".remove-site").on("click",g)):(e("#add-site").before(i),i.children(".remove-site").on("click",p)),s&&i.children(".remove-site").show(),isPC()&&e('.new-site[data-toggle="tooltip"]').tooltip({trigger:"hover"})}function o(e){var t=window.localStorage.getItem(e);return t?t=JSON.parse(t):[]}function a(e,t){window.localStorage.setItem(t,JSON.stringify(e))}function y(t){var s,n=o(t?"livelists":"myLinks");if(n.length&&!t&&!e("#add-site")[0]){e(".customize_nothing.custom-site").children(".nothing").html('<a href="javascript:;" class="add-new-custom-site" data-action="add_custom_urls" data-term_name="我的导航" data-urls="'+Base64.encode(JSON.stringify(n))+'" >您已登录，检测到您的设备上有数据，点击<strong style="color:#db2323">同步到服务器</strong>。</a>');return}if(n.length)for(s=0;s<n.length;s++)c(n[s],t,!1)}function p(){for(var s=e(this).data("id"),t=o("myLinks"),n=0;n<t.length;n++)if(parseInt(t[n].id)===parseInt(s)){console.log(t[n].id,s),t.splice(n,1);break}a(t,"myLinks"),e(this).parent().remove()}function g(){for(var s=e(this).data("id"),t=o("livelists"),n=0;n<t.length;n++)if(parseInt(t[n].id)===parseInt(s)){console.log(t[n].id,s),t.splice(n,1);break}a(t,"livelists"),e(this).parent().remove()}e(document).on("click",".add-new-custom-site",function(){var n=e(this);e.ajax({url:theme.ajaxurl,type:"POST",dataType:"json",data:n.data()}).done(function(e){showAlert(e)}).fail(function(){showAlert(JSON.parse('{"status":4,"msg":"网络错误 --."}'))})}),e(".add-custom-site-form").on("submit",function(){var t=e(this),s=this,n=t.find("input[name=url]").val(),o=t.find("input[name=url_name]").val(),i=t.find("input:radio:checked").val(),a=t.find("input[name=term_name]").val();if(a==""&&i==null)return showAlert(JSON.parse('{"status":3,"msg":"为什么不选分类"}')),!1;e.ajax({url:theme.ajaxurl,type:"POST",dataType:"json",data:t.serialize()+"&action=add_custom_url"}).done(function(a){if(a.status!=1){showAlert(a);return}var r,c,d,l=n.match(/^(?:https?:\/\/)?((?:[-A-Za-z0-9]+\.)+[A-Za-z]{2,6})/);!l||l.length<2?c=n:(c=l[0],theme.urlformat=="1"&&(c=l[1])),r=a.id,d=e('<div id="url-'+r+'" class="url-card sortable col-6 '+theme.classColumns+' col-xxl-10a"><div class="url-body mini"><a href="'+n+'" target="_blank" class="card new-site mb-3 site-'+r+'" data-id="'+r+'" data-url="'+n+'" data-toggle="tooltip" data-placement="bottom" title="'+o+'" rel="external nofollow"><div class="card-body" style="padding:0.4rem 0.5rem;"><div class="url-content d-flex align-items-center"><div class="url-img rounded-circle mr-2 d-flex align-items-center justify-content-center"><img src="'+theme.icourl+c+theme.icopng+'"></div><div class="url-info flex-fill"><div class="text-sm overflowClip_1"><strong>'+o+'</strong></div></div></div></div></a></div><a href="javascript:;" class="text-center remove-cm-site" data-action="delete_custom_url" data-id="'+r+'"><i class="iconfont icon-close-circle"></i></a></div>'),e(".add-custom-site[data-term_id="+i+"]").before(d),s.reset(),s.querySelector("input").focus(),t.find(".btn-close-fm").click(),showAlert(JSON.parse('{"status":1,"msg":"添加成功。"}'))}).fail(function(){showAlert(JSON.parse('{"status":4,"msg":"网络错误 --."}'))})}),e(document).on("click",".url-card .remove-cm-site",function(){var n=e(this);n.addClass("disabled"),e.ajax({url:theme.ajaxurl,type:"POST",dataType:"json",data:n.data()}).done(function(e){e.status==1&&n.parent().remove(),n.removeClass("disabled"),showAlert(e)}).fail(function(){n.removeClass("disabled"),showAlert(JSON.parse('{"status":4,"msg":"网络错误 --."}'))})});function h(){e(".customize-sites").hasClass("edit")?(isPC()&&e('.customize-sites .new-site[data-toggle="tooltip"]').tooltip("disable"),e(".customize-sites .site-list").sortable({items:".sortable",containment:".main-content",update:function(){e(".customize-sites .site-list").sortable("disable");var s=e(this).data("term_id"),o=e(this).sortable("serialize"),i={action:"update_custom_url_order",term_id:s,order:o};e.ajax({url:theme.ajaxurl,type:"POST",data:i,cache:!1,dataType:"json",success:function(t){t.status!=1&&showAlert(t),e(".customize-sites .site-list").sortable("enable")},error:function(){e(".customize-sites .site-list").sortable("enable"),showAlert(JSON.parse('{"status":4,"msg":"网络错误 --."}'))}})}})):(isPC()&&e('.customize-sites .new-site[data-toggle="tooltip"]').tooltip("enable"),e(".customize-sites .site-list").sortable("destroy"))}e("input[name=term_name]").focus(function(){var t=e("input[name=term_id]");t.prop("checked",!1)}),e(".form_custom_term_id").on("click",function(){e("input[name=term_name]").val("")}),e(document).on("click",".url-card a.card",function(){var n,i,r,l,s={id:e(this).data("id"),name:e(this).find("strong").html(),url:e(this).data("url")};if(s.url==="")return;for(n=o("livelists"),l=!0,i=0;i<n.length;i++)n[i].name===s.name&&(l=!1);l&&(r=theme.customizemax,n.length>r-1&&(e(".my-click-list .site-"+n[r-1].id).parent().remove(),n.splice(r-1,1)),c(s,!0,!0),n.unshift(s),a(n,"livelists"))});function v(){window.localStorage.getItem("searchlist")&&(e(".hide-type-list input#"+window.localStorage.getItem("searchlist")).prop("checked",!0),e(".hide-type-list input#m_"+window.localStorage.getItem("searchlist")).prop("checked",!0)),window.localStorage.getItem("searchlistmenu")&&(e(".s-type-list.big label").removeClass("active"),e(".s-type-list [data-id="+window.localStorage.getItem("searchlistmenu")+"]").addClass("active")),toTarget(e(".s-type-list.big"),!1,!1),e(".hide-type-list .s-current").removeClass("s-current"),e('.hide-type-list input:radio[name="type"]:checked').parents(".search-group").addClass("s-current"),e('.hide-type-list input:radio[name="type2"]:checked').parents(".search-group").addClass("s-current"),e(".super-search-fm").attr("action",e(".hide-type-list input:radio:checked").val()),e(".search-key").attr("placeholder",e(".hide-type-list input:radio:checked").data("placeholder")),window.localStorage.getItem("searchlist")=="type-zhannei"&&e(".search-key").attr("zhannei","true")}e(document).on("click",".s-type-list label",function(){e(".s-type-list.big label").removeClass("active"),e(this).addClass("active"),window.localStorage.setItem("searchlistmenu",e(this).data("id"));var n=e(this).parents(".s-search");n.find(".search-group").removeClass("s-current"),n.find("#"+e(this).attr("for")).parents(".search-group").addClass("s-current"),toTarget(e(this).parents(".s-type-list"),!1,!1)}),e(".hide-type-list .search-group input").on("click",function(){var t=e(this).parents(".s-search");window.localStorage.setItem("searchlist",e(this).attr("id").replace("m_","")),t.children(".super-search-fm").attr("action",e(this).val()),t.find(".search-key").attr("placeholder",e(this).data("placeholder")),e(this).attr("id")=="type-zhannei"||e(this).attr("id")=="m_type-zhannei"?t.find(".search-key").attr("zhannei","true"):t.find(".search-key").attr("zhannei",""),t.find(".search-key").select(),t.find(".search-key").focus()}),e(document).on("submit",".super-search-fm",function(){var t=encodeURIComponent(e(this).find(".search-key").val());return t!=""&&(window.open(e(this).attr("action")+t),!1)}),e(".nav-login-user.dropdown").hover(function(){e(this).hasClass("show")||e(this).children("a").click()},function(){}),e("#add-new-sites-modal").on("show.bs.modal",function(t){var s,o=e(t.relatedTarget),n=e(this);n.find('[name="term_id"]').val(o.data("terms_id")),n.find('[name="url"]').val(o.data("new_url")),n.find('[name="url_name"]').val(""),n.find('[name="url_summary"]').removeClass("is-invalid").val(""),o.data("new_url",""),s=n.find('[name="url"]').val(),s!=""&&(m(s,n),i=s)}),i="",e("#modal-new-url").on("blur",function(){var t=e(this);t.val()!=""&&(isURL(t.val())?i!=t.val()&&(i=t.val(),m(t.val(),e(".add_new_sites_modal"))):showAlert(JSON.parse('{"status":4,"msg":"URL 无效！"}')))}),e("#modal-new-url-summary").on("blur",function(){var t=e(this);t.val()!=""&&t.removeClass("is-invalid")});function m(t,n){e("#modal-new-url-ico").show(),e.post("//apiv2.iotheme.cn/webinfo/get.php",{url:t,key:theme.apikey},function(t){t.code==0?(e("#modal-new-url-ico").hide(),e("#modal-new-url-summary").addClass("is-invalid")):(e("#modal-new-url-ico").hide(),t.site_title==""&&t.site_description==""?e("#modal-new-url-summary").addClass("is-invalid"):(n.find('[name="url_name"]').val(t.site_title),n.find('[name="url_summary"]').val(t.site_description)))}).fail(function(){e("#modal-new-url-ico").hide(),e(".refre_msg").html("访问超时，请再试试，或者手动填写").show(200).delay(4e3).hide(200)})}})(jQuery);function isURL(e){var t=e,n=/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&=]*)?/,s=new RegExp(n);return s.test(t)==!0}function isPC(){let n=navigator.userAgent,e=["Android","iPhone","webOS","BlackBerry","SymbianOS","Windows Phone","iPad","iPod"],t=!0;for(let s=0;s<e.length;s++)if(n.indexOf(e[s])>0){t=!1;break}return t}function chack_name(e){var t=RegExp(/[( )( )(~)(!)(@)(#)($)(%)(^)(*)(()())(+)(=)([)(\])({)(})(\\)(;)(:)(')(")(,)(.)(/)(<)(>)(»)(«)(“)(”)(?)()]+/);return!!t.test(e)}function showAlert(e){switch(e.status){case 1:t="成功",n="success",s="icon-adopt";break;case 2:t="信息",n="info",s="icon-tishi";break;case 3:t="警告",n="warning",s="icon-warning";break;case 4:t="错误",n="danger",s="icon-close-circle";break;default:}var t,n,s,o=e.msg;$("#alert_placeholder").hasClass("text-sm")||$("body").append('<div id="alert_placeholder" class="text-sm" style="position: fixed;bottom: 10px;right: 10px;z-index: 2000;text-align: right;text-align: -webkit-right"></div>'),$html=$('<div class="alert-body" style="display:none;"><div class="alert alert-'+n+' text-lg pr-4 pr-md-5" style="text-align:initial"><i class="iconfont '+s+' icon-lg" style="vertical-align: middle;margin-right: 10px"></i><span style="vertical-align:middle">'+t+'</span><br><span class="text-md" style="margin-left:30px;vertical-align:middle">'+o+"</span></div></div>"),$("#alert_placeholder").append($html),$html.show(200).delay(3500).hide(300,function(){$(this).remove()})}function toTarget(e,t,n){var o=e.children(".anchor"),s=e.children(".hover").first();s&&0<s.length||(n?s=e.find(".active").parent():s=e.find(".active")),0<s.length?t?o.css({left:s.position().left+s.scrollLeft()+"px",width:s.outerWidth()+"px",opacity:"1"}):o.css({left:s.position().left+s.scrollLeft()+s.outerWidth()/4+"px",width:s.outerWidth()/2+"px",opacity:"1"}):o.css({opacity:"0"})}var ioadindex=0;function loadingShow(e="body"){if($(".load-loading")[0])return ioadindex++,$(".load-loading");var t=$('<div class="load-loading" style="display:none"><div class="bg"></div><div class="rounded-lg bg-light" style="z-index:1"><div class="spinner-border m-4" role="status"><span class="sr-only">Loading...</span></div></div></div>');return $(e).prepend(t),t.fadeIn(200),t}function loadingHid(e){ioadindex>0?ioadindex--:(ioadindex=0,e.fadeOut(300,function(){e.remove()}))}function ioPopupTips(e,t,n){var o,i,a,s="";switch(e){case 1:s="icon-adopt";break;case 2:s="icon-tishi";break;case 3:s="icon-warning";break;case 4:s="icon-close-circle";break;default:}i=e==1?"tips-success":"tips-error",a='<section class="io-bomb '+i+' io-bomb-sm io-bomb-open"><div class="io-bomb-overlay"></div><div class="io-bomb-body text-center"><div class="io-bomb-content bg-white px-5"><i class="iconfont '+s+' icon-8x"></i><p class="text-md mt-3">'+t+"</p></div></div></section>",o=$(a),$("body").addClass("modal-open").append(o),setTimeout(function(){$("body").removeClass("modal-open"),$.isFunction(n)&&n(!0),o.removeClass("io-bomb-open").addClass("io-bomb-close"),setTimeout(function(){o.removeClass("io-bomb-close"),setTimeout(function(){o.remove()},200)},400)},2e3)}function ioPopup(e,t,n,s){var i,a,r,n=n?'style="'+n+'"':"",o="";return e=="big"?o="io-bomb-lg":e=="no-padding"?o="io-bomb-nopd":e=="cover"?o="io-bomb-cover io-bomb-nopd":e=="full"?o="io-bomb-xl":e=="small"?o="io-bomb-sm":e=="confirm"&&(o="io-bomb-md"),a='	<div class="io-bomb '+o+' io-bomb-open">		<div class="io-bomb-overlay" '+n+'></div>		<div class="io-bomb-body text-center">			<div class="io-bomb-content bg-white">				'+t+'			</div>			<div class="btn-close-bomb mt-2">                <i class="iconfont icon-close-circle"></i>            </div>		</div>	</div>	',i=$(a),$("body").addClass("modal-open").append(i),r=function(){$("body").removeClass("modal-open"),$(i).removeClass("io-bomb-open").addClass("io-bomb-close"),setTimeout(function(){$(i).removeClass("io-bomb-close"),setTimeout(function(){i.remove()},200)},600)},$(i).on("click touchstart",".btn-close-bomb i, .io-bomb-overlay",function(e){e.preventDefault(),$.isFunction(s)&&s(!0),r()}),i}function ioConfirm(e,t){var s,o='	<div class="io-bomb io-bomb-confirm io-bomb-open">		<div class="io-bomb-overlay"></div>		<div class="io-bomb-body">			<div class="io-bomb-content bg-white">				'+e+'                <div class="text-center mt-3">                    <button class="btn btn-danger mx-2" onclick="_onclick(true);">确定</button>                    <button class="btn btn-light mx-2" onclick="_onclick(false);">取消</button>                </div>			</div>		</div>	</div>	',n=$(o);return $("body").addClass("modal-open").append(n),_onclick=function(e){s(),$.isFunction(t)&&t(e)},s=function(){$("body").removeClass("modal-open"),$(n).removeClass("io-bomb-open").addClass("io-bomb-close"),setTimeout(function(){$(n).removeClass("io-bomb-close"),setTimeout(function(){n.remove()},200)},600)},n}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):function(){const s=e.Base64,n=t();n.noConflict=()=>(e.Base64=s,n),e.Meteor&&(Base64=n),e.Base64=n}()}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,function(){"use strict";const S="3.6.0",L="function"==typeof atob,z="function"==typeof btoa,n="function"==typeof Buffer,g="function"==typeof TextDecoder?new TextDecoder:void 0,w="function"==typeof TextEncoder?new TextEncoder:void 0,s=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],o=(e=>{let t={};return e.forEach((e,n)=>t[e]=n),t})(s),T=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/,e=String.fromCharCode.bind(String),p="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=e=>e)=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),f=e=>e.replace(/[+/]/g,e=>"+"==e?"-":"_").replace(/=+$/m,""),x=e=>e.replace(/[^A-Za-z0-9+/]/g,""),m=e=>{let t,i,a,r,n="";const o=e.length%3;for(let o=0;o<e.length;){if((i=e.charCodeAt(o++))>255||(a=e.charCodeAt(o++))>255||(r=e.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=i<<16|a<<8|r,n+=s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}return o?n.slice(0,o-3)+"===".substring(o):n},c=z?e=>btoa(e):n?e=>Buffer.from(e,"binary").toString("base64"):m,d=n?e=>Buffer.from(e).toString("base64"):t=>{let n=[];for(let s=0,o=t.length;s<o;s+=4096)n.push(e.apply(null,t.subarray(s,s+4096)));return c(n.join(""))},a=(e,t=!1)=>t?f(d(e)):d(e),N=t=>{if(t.length<2)return(n=t.charCodeAt(0))<128?t:n<2048?e(192|n>>>6)+e(128|63&n):e(224|n>>>12&15)+e(128|n>>>6&63)+e(128|63&n);var n=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return e(240|n>>>18&7)+e(128|n>>>12&63)+e(128|n>>>6&63)+e(128|63&n)},D=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,j=e=>e.replace(D,N),h=n?e=>Buffer.from(e,"utf8").toString("base64"):w?e=>d(w.encode(e)):e=>c(j(e)),t=(e,t=!1)=>t?f(h(e)):h(e),u=e=>t(e,!0),F=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,A=t=>{switch(t.length){case 4:var n=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return e(55296+(n>>>10))+e(56320+(1023&n));case 3:return e((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return e((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},C=e=>e.replace(F,A),E=t=>{if(t=t.replace(/\s+/g,""),!T.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let n,s,i,a="";for(let r=0;r<t.length;)n=o[t.charAt(r++)]<<18|o[t.charAt(r++)]<<12|(s=o[t.charAt(r++)])<<6|(i=o[t.charAt(r++)]),a+=64===s?e(n>>16&255):64===i?e(n>>16&255,n>>8&255):e(n>>16&255,n>>8&255,255&n);return a},r=L?e=>atob(x(e)):n?e=>Buffer.from(e,"base64").toString("binary"):E,y=n?e=>p(Buffer.from(e,"base64")):e=>p(r(e),e=>e.charCodeAt(0)),k=e=>y(O(e)),M=n?e=>Buffer.from(e,"base64").toString("utf8"):g?e=>g.decode(y(e)):e=>C(r(e)),O=e=>x(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),l=e=>M(O(e)),_=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),b=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,_(t));e("fromBase64",function(){return l(this)}),e("toBase64",function(e){return t(this,e)}),e("toBase64URI",function(){return t(this,!0)}),e("toBase64URL",function(){return t(this,!0)}),e("toUint8Array",function(){return k(this)})},v=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,_(t));e("toBase64",function(e){return a(this,e)}),e("toBase64URI",function(){return a(this,!0)}),e("toBase64URL",function(){return a(this,!0)})},i={version:S,VERSION:"3.6.0",atob:r,atobPolyfill:E,btoa:c,btoaPolyfill:m,fromBase64:l,toBase64:t,encode:t,encodeURI:u,encodeURL:u,utob:j,btou:C,decode:l,isValid:e=>{if("string"!=typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z+/]/.test(t)||!/[^\s0-9a-zA-Z-_]/.test(t)},fromUint8Array:a,toUint8Array:k,extendString:b,extendUint8Array:v,extendBuiltins:()=>{b(),v()},Base64:{}};return Object.keys(i).forEach(e=>i.Base64[e]=i[e]),i});function ChromBookmarkConverter(){this.bookmarks={folders:[]},this.stripUnneededTags=function(e){return e=e.replace(/<p>/gi,""),e=e.replace(/<P>/gi,""),e=e.replace(/<dt>/gi,""),e=e.replace(/<DT>/gi,"")},this.processChromeBookmarksContent=function(e){var t,n=this;e=this.stripUnneededTags(e),t=$.parseHTML(e),$.each(t,function(e,t){if("DL"==t.tagName){var s={type:"folder",title:"未命名",items:[]};n.bookmarks.folders.push(s),n.processDL(t,1,s)}})},this.processDL=function(e,t,n){var a=this,r=0,s={},i={type:"folder",title:"",add_date:"",last_modified:"",items:[]},c={},l=$(e),o=!1;$.each(l.children(),function(e,l){var d,u,h,m,f,p,g,v,b;r+=1,h=t+"."+r,1==o&&l.tagName.toLowerCase()!="DL".toLowerCase()&&(o=!1,console.log("h3",s),i.items.push(s)),l.tagName.toLowerCase()=="DL".toLowerCase()&&(i={type:"folder",title:s.title,add_date:s.add_date,last_modified:s.last_modified,items:[]},1==o&&(o=!1),a.bookmarks.folders.push(i),a.processDL(l,h,i)),l.tagName.toLowerCase()=="H3".toLowerCase()&&(d=$(l),m=d.text()?d.text():"未命名",f=d.attr("add_date"),p=d.attr("last_modified"),s={type:"header",title:m,add_date:f,last_modified:p},o=!0),"a"==l.tagName.toLowerCase()&&isURL($(l).attr("href"))&&""!=$(l).text()&&(u=$(l),g=u.text(),v=u.attr("href"),b=u.attr("add_date"),u.attr("icon"),c={type:"link",title:g,href:v,add_date:b},n.items.push(c))})}}